\doxysection{Référence du fichier /home/jerta/\+Bureau/\+Projet/\+Projet\+\_\+2024/\+Fabien/animal\+Tracker\+Firmware/src/data\+Sender.cpp}
\hypertarget{dataSender_8cpp}{}\label{dataSender_8cpp}\index{/home/jerta/Bureau/Projet/Projet\_2024/Fabien/animalTrackerFirmware/src/dataSender.cpp@{/home/jerta/Bureau/Projet/Projet\_2024/Fabien/animalTrackerFirmware/src/dataSender.cpp}}


Fonction regroupant la logique de lecture du GPS et envoi.  


{\ttfamily \#include "{}data\+Sender.\+h"{}}\newline
Graphe des dépendances par inclusion de data\+Sender.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{dataSender_8cpp__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{dataSender_8cpp_af8a7557c706cb0a798661f2b2d09d9ef}{read\+Send\+Data}} ()
\begin{DoxyCompactList}\small\item\em Réaliser la transformation des données et l\textquotesingle{}envoi des données via Lo\+Ra. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{dataSender_8cpp_a4a5313711bb5c7540f8522e60a914147}{full\+Array}} \mbox{[}PAYLOAD\+\_\+\+SIZE\mbox{]} = \{0\}
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
Fonction regroupant la logique de lecture du GPS et envoi. 

\begin{DoxyAuthor}{Auteur}
Fabien 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
04 2025 
\end{DoxyDate}
\begin{DoxyVersion}{Version}
1.\+0 
\end{DoxyVersion}


Définition dans le fichier \mbox{\hyperlink{dataSender_8cpp_source}{data\+Sender.\+cpp}}.



\doxysubsection{Documentation des fonctions}
\Hypertarget{dataSender_8cpp_af8a7557c706cb0a798661f2b2d09d9ef}\index{dataSender.cpp@{dataSender.cpp}!readSendData@{readSendData}}
\index{readSendData@{readSendData}!dataSender.cpp@{dataSender.cpp}}
\doxysubsubsection{\texorpdfstring{readSendData()}{readSendData()}}
{\footnotesize\ttfamily \label{dataSender_8cpp_af8a7557c706cb0a798661f2b2d09d9ef} 
void read\+Send\+Data (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Réaliser la transformation des données et l\textquotesingle{}envoi des données via Lo\+Ra. 

Dans un premier temps réalise la lecture et la transformation des valeurs via les méthodes concernés fournies par le GPS. Réalise un envoie Lo\+Ra en utilisant le tableau d\textquotesingle{}octets full\+Array comme buffer pour stockés les valeurs. 

Définition à la ligne \mbox{\hyperlink{dataSender_8cpp_source_l00025}{25}} du fichier \mbox{\hyperlink{dataSender_8cpp_source}{data\+Sender.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00026\ \{}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#ifdef\ DEBUG}}
\DoxyCodeLine{00028\ \ \ \ \ Serial.println(\textcolor{stringliteral}{"{}DEBUG:\ Distance\ threshold\ exceeded,\ sending\ data..."{}});}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{gps_8cpp_ab9850920892b5e65e55e0abb6ef29e5c}{readGPSStoreAsBytes}}(\mbox{\hyperlink{dataSender_8cpp_a4a5313711bb5c7540f8522e60a914147}{fullArray}});\ \textcolor{comment}{//\ Lecture\ \&\ transformation\ des\ valeurs}}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{loraWAN_8cpp_aac25dd8510adc6a52c8e08015151ed6a}{sendData}}(\mbox{\hyperlink{dataSender_8cpp_a4a5313711bb5c7540f8522e60a914147}{fullArray}},\ PAYLOAD\_SIZE);\ \textcolor{comment}{//\ Envoi\ des\ valeurs\ }}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{gps_8cpp_af5cbe348d725709e7d3ada96422e04d8}{previousLatitude}}\ =\ \mbox{\hyperlink{gps_8cpp_af599e1dd1a7fba187c3cc26b8df8c792}{GPS}}.location.lat();\ \textcolor{comment}{//\ Stockage\ des\ coordonnées\ actuelle\ pour\ future\ comparaison}}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{gps_8cpp_a3c87e8abead8833a75225ffefa9dbfe0}{previousLongitude}}\ =\ \mbox{\hyperlink{gps_8cpp_af599e1dd1a7fba187c3cc26b8df8c792}{GPS}}.location.lng();\ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \mbox{\hyperlink{powerManagement_8cpp_aba4c8fc4a7e4cc4be5f1774da46d4400}{mcuStatus}}\ =\ STATE\_SLEEP;\ \textcolor{comment}{//\ Passage\ dans\ l'état\ STATE\_SLEEP\ une\ fois\ l'envoi\ réalisé\ qu'il\ soit\ un\ échec\ ou\ une\ réussite}}
\DoxyCodeLine{00038\ \}}

\end{DoxyCode}


\doxysubsection{Documentation des variables}
\Hypertarget{dataSender_8cpp_a4a5313711bb5c7540f8522e60a914147}\index{dataSender.cpp@{dataSender.cpp}!fullArray@{fullArray}}
\index{fullArray@{fullArray}!dataSender.cpp@{dataSender.cpp}}
\doxysubsubsection{\texorpdfstring{fullArray}{fullArray}}
{\footnotesize\ttfamily \label{dataSender_8cpp_a4a5313711bb5c7540f8522e60a914147} 
uint8\+\_\+t full\+Array\mbox{[}PAYLOAD\+\_\+\+SIZE\mbox{]} = \{0\}}

Variable full\+Array pour le stockage des valeurs fournies par le GPS La taille PAYLOAD\+\_\+\+SIZE est calculé à la compilation dans config.\+h selon les flags présent la taille est modifié 

Définition à la ligne \mbox{\hyperlink{dataSender_8cpp_source_l00016}{16}} du fichier \mbox{\hyperlink{dataSender_8cpp_source}{data\+Sender.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016\ \{0\};}

\end{DoxyCode}
